(function(b){b.fn.turns=function(e){for(var d=0;d<this.length;d++){this.turns=new a(e,this[d])}return this};var c={start:0,navigation:{active:true,effect:"slide"},pagination:{active:true,effect:"fade",interact:"hover"},effect:{slide:{speed:500},fade:{speed:1000}}};var a=function(d,e){var d=b.extend(d,c,true);this.conts=b(d.contName,e);this.tags=b(d.tagName||"jdAdPagination",e);this.options=d;this.interval=d.interval;this.gsize=d.gsize;this.pos=0;this.timer=null;this.size=this.conts.length;this.speed=30;this.start(0);this.eventBind(b(e),this.tags,this.conts)};a.prototype={start:function(e){this.auto=true;var d=this;this.play(e,"next");this.timer=setInterval(function(){d.next()},d.interval)},play:function(f,d,e){if(this.options.navigation.effect=="slide"){this.slide(f,d)}else{this.fade(f,d)}},show:function(e){this.turnsReset();this.turnsInnerReset();b(this.conts[e]).addClass("current");b(this.tags[e]).addClass("select");for(var d=0;d<this.gsize;d++){this.exposal(this.conts[e])}},slide:function(k,j){var o=this.tags[k];this.turnsReset();this.turnsInnerReset();var n=this.conts[k];var f=this.conts[(k-1+this.size)%this.size];var h=this.conts[(k+1)%this.size];for(var g=0;g<this.gsize;g++){this.exposal(this.conts[k])}b(n).addClass("current");b(h).addClass("current");b(f).addClass("current");b(o).addClass("select");var m=this;var d=0;var l=n.offsetWidth;n.style.opacity=1;h.style.opacity=1;f.style.opacity=1;if(j=="prev"){change=l;d=-l;n.style.left=-l+"px";h.style.left=0;f.style.left=-2*l+"px"}else{change=-l;d=l;n.style.left=l+"px";h.style.left=2*l+"px";f.style.left=0}var e=this.options.effect.slide.speed/20;var m=this;b(n).animate("left",d,change,e,"px",function(){n.style.left=d+change+"px"});b(h).animate("left",d+l,change,e,"px",function(){h.style.left=d+l+change+"px"});b(f).animate("left",d-l,change,e,"px",function(){f.style.left=d-l+change+"px";b(".jdAdPrevious").off("mousedown",m.levt).on("mousedown",m.levt);b(".jdAdNext").off("mousedown",m.revt).on("mousedown",m.revt)})},fade:function(k,h){var f=this;var e=this.conts[k];var d=this.tags[k];var j=this.options.effect.fade.speed/20;this.turnsReset();this.turnsInnerReset();b(d).addClass("select");b(e).addClass("current").addClass("jdAdShow");e.style.left=0;for(var g=0;g<this.gsize;g++){this.exposal(this.conts[k])}},next:function(){this.pos++;this.pos%=this.size;var d=this;this.play(this.pos,"next")},prev:function(){this.pos--;this.pos=(this.pos+this.size)%this.size;var d=this;this.play(this.pos,"prev")},stop:function(){clearInterval(this.timer)},turnsReset:function(){this.conts.removeClass("current").removeClass("jdAdShow");this.conts.each(function(d){d.style.left=0;d.style.opacity=1});this.tags.removeClass("select")},turnsInnerReset:function(){b(".jdAdInfo",this.conts[this.pos]).removeClass(".jdAdInfoShow")},exposal:function(d){b(".jdAdContInner",d).each(function(g,f){var e=g.getAttribute("exposal");if(window.exposes[e]==null){b.getScript(e);window.exposes[e]=1}})},eventBind:function(g,m,l){var k=this;var i,h={x:0,y:0};var d=null;var e=function(n){var o=n.touches[0];h={x:o.pageX,y:o.pageY};k.stop()};var f=function(n){if(n.touches.length>1||n.scale&&event.scale!==1){return}var o=n.touches[0];i={x:o.pageX-h.x,y:o.pageY-h.y}};var j=function(n){k.stop();if(!i){return}if((i.x<-10)&&(Math.abs(i.y/i.x)<1)){k.next()}else{if((i.x>10)&&(Math.abs(i.y/i.x)<1)){k.prev()}}clearTimeout(d);d=setTimeout(function(){k.stop();k.start((k.pos+1)%k.size)},k.interval);i=null};g.on("touchstart",e);g.on("touchmove",f);g.on("touchend",j);g.on("touchcancel",j)}}})(_J);